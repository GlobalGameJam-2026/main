# 가면 시스템 설정 가이드 (Unity Editor 작업)

## ✅ 완료된 작업
- Phase 2: TaroDev 컨트롤러 임포트 및 테스트 완료
- Phase 3: 가면 시스템 스크립트 작성 완료
  - `MaskManager.cs` - 전역 가면 상태 관리
  - `MaskSwitcher.cs` - 플레이어 입력 처리
  - `MaskObject.cs` - 오브젝트 가시성 제어

---

## 🎮 Unity 에디터에서 설정하기

### 1단계: MaskManager 설정

1. **Hierarchy**에서 빈 GameObject 생성
   - 우클릭 → Create Empty
   - 이름: `MaskManager`

2. **MaskManager** 컴포넌트 추가
   - Inspector에서 `Add Component` 클릭
   - `MaskManager` 검색 후 추가

3. **설정 확인**
   - Current Mask: White (기본값)
   - Black Mask Background Color: 검은색 (0, 0, 0)
   - White Mask Background Color: 흰색 (255, 255, 255)
   - Main Camera: 자동으로 할당됨 (Main Camera가 없으면 수동으로 드래그)

---

### 2단계: Player에 MaskSwitcher 추가

1. **Hierarchy**에서 Player 오브젝트 찾기
   - TaroDev 컨트롤러의 Player 프리팹

2. **MaskSwitcher** 컴포넌트 추가
   - Player 선택
   - Inspector에서 `Add Component`
   - `MaskSwitcher` 검색 후 추가

3. **설정**
   - Mask Toggle Key: Left Shift (기본값)
   - Switch Cooldown: 0.1 (기본값)
   - Mask Switch Sound: 나중에 추가 (선택사항)

---

### 3단계: 테스트용 플랫폼 만들기

#### 3-1. 흰색 가면에서만 보이는 플랫폼

1. **Hierarchy**에서 2D Object → Sprites → Square 생성
   - 이름: `Platform_WhiteOnly`

2. **Transform 설정**
   - Position: (0, -2, 0)
   - Scale: (5, 0.5, 1)

3. **Box Collider 2D** 추가
   - `Add Component` → Box Collider 2D

4. **MaskObject** 컴포넌트 추가
   - `Add Component` → MaskObject
   - **Visible In**: White Only
   - **Black Mask Color**: White (255, 255, 255)
   - **White Mask Color**: Black (0, 0, 0)
   - Disable Collider When Hidden: ✓ (체크)
   - Disable Renderer When Hidden: ✓ (체크)

#### 3-2. 검은색 가면에서만 보이는 플랫폼

1. 위 플랫폼 복제 (Ctrl+D)
   - 이름: `Platform_BlackOnly`
   - Position: (3, -1, 0)

2. **MaskObject 설정 변경**
   - **Visible In**: Black Only
   - 나머지는 동일

#### 3-3. 항상 보이는 플랫폼 (색상만 변경)

1. 다시 복제
   - 이름: `Platform_Both`
   - Position: (-3, -1, 0)

2. **MaskObject 설정**
   - **Visible In**: Both
   - 나머지는 동일

---

### 4단계: 테스트하기

1. **Play 버튼** 클릭

2. **테스트 항목**
   - ✓ 좌우 화살표로 이동
   - ✓ Space로 점프
   - ✓ **Left Shift로 가면 전환**
     - 배경이 흰색 ↔ 검은색으로 바뀜
     - Platform_WhiteOnly는 흰색 배경에서만 보임
     - Platform_BlackOnly는 검은색 배경에서만 보임
     - Platform_Both는 항상 보이지만 색상이 바뀜

3. **예상 동작**
   - 흰색 가면(흰 배경): 검은색 선의 플랫폼들이 보임
   - 검은색 가면(검은 배경): 흰색 선의 플랫폼들이 보임
   - 보이지 않는 플랫폼은 충돌도 비활성화됨 (통과 가능)

---

## 🎨 다음 단계 (선택사항)

### 시각적 개선
- **전환 효과 추가**: 가면 전환 시 화면 페이드 효과
- **파티클 효과**: 가면 전환 시 파티클
- **사운드**: 가면 전환 사운드 추가

### 게임 메커니즘
- 감정 오브 시스템 구현
- 스테이지별 메커니즘 (무너지는 플랫폼, 바람 등)
- UI 시스템

---

## ⚠️ 문제 해결

### "MaskManager not found" 경고가 뜬다면?
- Hierarchy에 MaskManager GameObject가 있는지 확인
- MaskManager 컴포넌트가 추가되어 있는지 확인

### 가면 전환이 안 된다면?
- Player에 MaskSwitcher 컴포넌트가 있는지 확인
- Left Shift 키를 눌러보세요
- Console에 오류 메시지가 있는지 확인

### 플랫폼이 안 보인다면?
- Sprite Renderer가 있는지 확인
- MaskObject 컴포넌트 설정 확인
- Camera가 올바른 위치에 있는지 확인

---

## 📝 완료 후 알려주세요!

테스트가 완료되면:
1. 가면 전환이 잘 작동하는지
2. 플랫폼 가시성이 제대로 바뀌는지
3. 어떤 문제가 있는지 (있다면)

알려주시면 다음 단계로 진행하겠습니다!
