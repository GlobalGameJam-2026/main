# 게임 완성 가이드 (낙사, 스테이지 전환, Goal 효과)

## 🎯 새로 추가된 기능

1. **낙사 시 재시작** - 땅으로 떨어지면 레벨 재시작
2. **스테이지 자동 전환** - Stage 1 클리어 → Stage 2 자동 이동
3. **Goal 시각 효과** - Goal이 눈에 잘 보이도록
4. **개선된 레벨 디자인** - 가면 전환 필수

---

## 📋 Unity 에디터 설정

### 1단계: Death Zone 설정

1. **Hierarchy에서 2D Object → Sprites → Square 생성**
   - 이름: `DeathZone`

2. **Transform 설정**
   - Position: (0, -10, 0) - 맵 아래쪽
   - Scale: (100, 1, 1) - 매우 넓게

3. **Sprite Renderer 설정**
   - Color: 빨간색 (255, 0, 0, 100) - 반투명
   - Sorting Layer: Default
   - Order in Layer: -1 (뒤에 보이게)

4. **Box Collider 2D 추가**
   - Add Component → Box Collider 2D
   - **Is Trigger**: ✓ (체크 필수!)

5. **DeathZone 컴포넌트 추가**
   - Add Component → `DeathZone`
   - Restart Delay: 1초
   - Show Debug Message: ✓

---

### 2단계: Goal 시각 효과 추가

#### Option A: 간단한 방법 (Sprite만)

1. **Goal 프리팹 열기**
   - Project → Assets/Prefabs/Goal.prefab 더블클릭

2. **Sprite Renderer 설정**
   - Color: 노란색 (255, 255, 0)
   - **Material**: Sprites-Default

3. **크기 조정**
   - Scale: (1, 1, 1) 또는 (1.5, 1.5, 1)

#### Option B: 파티클 효과 (추천)

1. **Goal 프리팹에 Particle System 추가**
   - Goal 선택 → Add Component → Particle System

2. **Particle System 설정**
   - **Main**:
     - Start Lifetime: 1
     - Start Speed: 2
     - Start Size: 0.2
     - Start Color: 노란색 → 흰색 그라데이션
     - Max Particles: 50
   - **Emission**:
     - Rate over Time: 20
   - **Shape**:
     - Shape: Circle
     - Radius: 0.5
   - **Color over Lifetime**:
     - 그라데이션으로 페이드 아웃

3. **저장** (Ctrl+S)

---

### 3단계: 씬 복제 (Stage 2 만들기)

1. **Project 창에서 현재 씬 찾기**
   - Assets/Scenes/SampleScene.unity (또는 현재 씬)

2. **씬 복제**
   - 씬 파일 우클릭 → Duplicate
   - 이름: `Stage1.unity`

3. **다시 복제**
   - Stage1.unity 우클릭 → Duplicate
   - 이름: `Stage2.unity`

4. **Build Settings에 추가**
   - File → Build Settings
   - **Add Open Scenes** 클릭 (Stage1 열린 상태에서)
   - Stage2.unity도 열어서 Add Open Scenes
   - 순서: Stage1 (index 0), Stage2 (index 1)

---

### 4단계: Stage 2 씬 설정

1. **Stage2.unity 열기**

2. **LevelGenerator 선택**

3. **Inspector에서 Level Data 변경**
   - Level Data: Stage1 → **Stage2** 드래그

4. **저장** (Ctrl+S)

---

### 5단계: 레벨 데이터 재생성

1. **Stage1.unity 열기**

2. **LevelCreator 선택**

3. **우클릭 메뉴**
   - Create Stage 1 Data → Yes (덮어쓰기)
   - Create Stage 2 Data → Yes (덮어쓰기)

4. **Console 확인**
   - "Image-inspired with mandatory mask switching" 메시지 확인

---

## 🎮 테스트하기

### Stage 1 테스트

1. **Stage1.unity 열기**

2. **Play 버튼**

3. **확인 사항**
   - ✓ 플레이어가 시작 위치에 스폰
   - ✓ Goal이 노란색으로 보임 (파티클 있으면 반짝임)
   - ✓ 가면 전환 없이는 진행 불가능
   - ✓ 땅 아래로 떨어지면 1초 후 재시작
   - ✓ Goal 도착 시 "🎉 Goal Reached!" 메시지
   - ✓ 2초 후 Stage 2로 자동 이동

### Stage 2 테스트

1. **자동으로 Stage2로 이동됨**

2. **확인 사항**
   - ✓ 더 어려운 레벨
   - ✓ 낙사 시 Stage 2 재시작 (Stage 1로 안 감)
   - ✓ Goal 도착 시 "Game Complete!" 메시지

---

## 🎨 레벨 디자인 특징

### Stage 1 (이미지 기반)
- **길이**: -10 ~ 16 (26 유닛)
- **높이**: -1 ~ 3 (4 유닛)
- **플랫폼**: 11개
- **특징**: 
  - 각 섹션마다 가면 전환 필수
  - 잘못된 가면으로는 진행 불가
  - 중간 난이도

### Stage 2 (도전 과제)
- **길이**: -12 ~ 18 (30 유닛)
- **높이**: -1 ~ 4 (5 유닛)
- **플랫폼**: 14개
- **특징**:
  - 더 좁은 플랫폼
  - 빠른 가면 전환 필요
  - 숨겨진 경로 선택
  - 높은 난이도

---

## ⚙️ 추가 설정 (선택사항)

### Goal 도착 시 사운드 추가

1. **Goal 프리팹 선택**
2. **Goal 컴포넌트에서**:
   - Completion Sound: 사운드 파일 드래그
3. **Audio Source 자동 추가됨**

### Death Zone 위치 조정

- 맵이 크면 Position Y를 더 아래로 (-15 등)
- 맵이 작으면 Position Y를 위로 (-5 등)

### 스테이지 전환 딜레이 조절

1. **Goal 프리팹 선택**
2. **Delay Before Next Level**: 2 → 원하는 초 (1~5)

---

## 🐛 문제 해결

### Stage 2로 안 넘어간다면?
- Build Settings에 Stage2.unity가 추가되었는지 확인
- Goal 컴포넌트의 Auto Progress To Next Stage가 체크되었는지 확인

### 낙사 시 재시작 안 된다면?
- DeathZone의 Box Collider 2D에서 Is Trigger가 체크되었는지 확인
- Player에 Rigidbody 2D가 있는지 확인

### Goal이 안 보인다면?
- Goal 프리팹의 Sprite Renderer 확인
- Color Alpha가 0이 아닌지 확인
- Camera가 Goal 위치를 비추는지 확인

---

## 🎉 완성!

이제 게임의 핵심 기능이 모두 완성되었습니다:
- ✅ 가면 전환 시스템
- ✅ 2개 스테이지
- ✅ 낙사 재시작
- ✅ 자동 스테이지 전환
- ✅ Goal 효과
- ✅ 카메라 따라가기

**다음 단계로 추가 가능:**
- UI (타이틀 화면, 스테이지 선택)
- 사운드 & 음악
- 더 많은 스테이지
- 감정 오브 수집 시스템
